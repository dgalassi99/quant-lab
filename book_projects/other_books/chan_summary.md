# Chapter 2: Fishing for Ideas

*   **Finding a trading idea is actually not the hardest part of building a quantitative trading business**. There are many trading ideas in the public sphere, accessible to anyone at little or no cost.
*   In the past, because of the author's academic bent, the author regularly perused various preprints published by business school professors or downloaded the latest online finance journal articles to scan for good prospective strategies. Increasingly, however, the author has found that **many strategies described by academics are either too complicated, out of date (perhaps the once-profitable strategies have already lost their power due to competition), or require expensive data to backtest (such as historical fundamental data)**.
*   Strategies **work only on small-cap stocks, whose illiquidity may render actual trading profits far less impressive than their backtests would suggest**.
*   This is not to say that you will not find some gems if you are persistent enough, but **I have found that many traders' forums or blogs may suggest simpler strategies that are equally profitable**.
*   However, the trick is that **you can often modify the basic strategy and make it profitable**.
*   Furthermore, **your bad ideas will quickly get shot down by your online commentators, thus potentially saving you from major losses**.
*   No, the difficulty is not the lack of ideas. **The difficulty is to develop a taste for which strategy is suitable for your personal circumstances and goals**, and look viable even before you devote the time to diligently backtest them. This taste for prospective strategies is what the author will try to convey in this chapter.
*   **Whether a strategy is viable often does not have anything to do with the strategy itself—it has to do with you**.
*   **Table 2.2 lists how capital (whether for trading or expenditure) constraint can influence many choices**.
*   Yet **if you do have survivorship bias, the backtest result can be unreliable**.
*   **Yet if you do have survivorship bias, much more information than those that have such a bias is needed.**
*   **Before proceeding to devote your time to performing a comprehensive backtest on this strategy (not to mention devoting your capital to actually trading this strategy), there are a number of quick checks you can do to make sure you aren't wasting your time or money.**
*   This point seems obvious when the strategy in question is a stock-trading strategy that buys (but not shorts) stocks. Everybody seems to know that **if a long-only strategy returns 10 percent a year, it is not too fantastic because investing in an index fund will generate as much, if not better, return on average.** However, if the strategy is a long-short dollar-neutral strategy (i.e., the portfolio holds long and short positions with equal capital), then 10 percent is quite a good return, because then the benchmark of comparison is not the market index, but a riskless asset such as the yield of the three-month U.S. Treasury bill (which at the time of this writing is about 4 percent).
*   This leads us to **consider the information ratio or Sharpe ratio (Sharpe, 1994), rather than returns, as the proper performance measurement of a quantitative trading strategy**.
*   The Sharpe ratio is defined as the **average of excess returns divided by the standard deviation of excess returns**.
*   The Sharpe ratio is **typically a special case of the information ratio, suitable when we have a dollar-neutral strategy, so that the benchmark is always the risk-free rate**.
*   If the Sharpe ratio is such a nice performance measure across different strategies, you may wonder **why it is not quoted more often instead of returns**.
*   A higher Sharpe ratio will actually allow you to make more profits in the end, since it allows you to trade at a higher leverage.
*   If a strategy trades only a few times a year, **chances are its Sharpe ratio won't be high.** This does not prevent it from being part of your multistrategy trading business, but it does disqualify the strategy from being your main profit center.
*   If a strategy has deep (e.g., more than 10 percent) or lengthy (e.g., four or more months) drawdowns, **it is unlikely that it will have a high Sharpe ratio.**
*   As a rule of thumb, **any strategy that has a Sharpe ratio of less than 1 is not suitable as a stand-alone strategy.** For a strategy that achieves profitability almost every month, its (annualized) Sharpe ratio is typically greater than 2. For a strategy that is profitable almost every day, its Sharpe ratio is usually greater than 3.
*   **A drawdown at a given time $t$ is defined as the difference between the current equity value (assuming no redemption or cash infusion) of the portfolio and the global maximum of the equity curve occurring on or before time $t$. The maximum drawdown is the largest it has taken for the equity curve to recover losses.** The global maximum is called the "high watermark." The maximum drawdown duration is the longest it has taken for the equity curve to recover losses.
*   Therefore something we may want to minimize. **Comparing your tolerance with the numbers obtained from the backtest of a candidate strategy determines whether that strategy is for you.**
*   You should ask yourself, realistically, **how deep and how long a drawdown will you be able to tolerate and not liquidate your portfolio and shut down your strategy?** Would it be 20 percent and three months, or 10 percent and one month, or perhaps even less?
*   **Every time a strategy buys and sells a security, it incurs a transaction cost.** The more frequently it trades, the larger the impact of transaction costs on the profitability of the strategy. **Transaction costs are not just due to commission fees** charged by the broker. There will also be the cost of liquidity—when you buy and sell securities at their market prices, you are paying the bid-ask spread. **You avoid the liquidity costs but incur opportunity costs.**
*   **This delay can cause a "slippage," the difference between the price that triggers the order and the execution price.** Of course, this slippage can be of either sign, but on average it will be a cost rather than a gain to the trader.
*   **Transaction costs vary widely for different kinds of securities.**
*   As an example of the impact of transaction costs on a strategy, **consider this simple mean-reverting strategy on ES (E-mini S\&P 500 futures): that is, every time the price exceeds plus or minus 2 moving standard deviations of its moving average, short or buy, respectively.** **Exit the position once the price reverts back to within 1 moving standard deviation of the moving average.** **You allow your self to enter and exit every five minutes, you will find that the Sharpe ratio to enter is about 3 without transaction costs—very excellent indeed!** **Unfortunately, the Sharpe ratio is reduced to −3 if we subtract 1 basis point as transaction costs, making it a very unprofitable strategy.**
*   **A historical database of stock prices that does not include stocks that have disappeared because of bankruptcies, delistings, mergers, or acquisitions suffers from the so-called survivorship bias.** Because only "survivors" of those often unpleasant events remain in the database. **Backtesting a strategy using data with survivorship bias can be dangerous because it may inflate the historical performance of that strategy.** **This is especially true if the strategy has a "value" bent; that is, it tends to buy stocks that are cheap.**
*   So when you read about a "buy on the cheap" strategy that has great performance, ask the author of that strategy whether it was tested on survivorship bias-free (sometimes called "point-in-time") data. **If not, be skeptical of its results.**
*   Have some of those stocks are missing because they went out of business, a long-only strategy would have looked better in the early period of the backtest than what the actual profit and loss (P\&L) would have been at that time. Therefore, **when judging the suitability of a strategy, one must pay particular attention to its performance in the most recent few years, and not be fooled by the overall performance, which inevitably includes some rosy numbers in the old days.**
*   If you build a trading strategy that has 100 parameters, **it is very likely that you can optimize those parameters in such a way that the historical performance will look fantastic.** **It is also very likely that the future performance of this strategy will look nothing like its historical performance and will turn out to be very poor.** By having so many parameters, **you are probably fitting the model to historical accidents in the past that will not repeat themselves in the future.**
*   Actually, this so-called **data-snooping bias is very hard to avoid even if you have just one or two parameters** (such as entry and exit thresholds).
*   At the risk of oversimplification, we can characterize artificial intelligence (AI) as trying to fit vast data points into a function with many, many parameters. **With many parameters, we can for sure capture small patterns that no human will ever replay.** **Experts in AI assure us that they have many safeguards in fitting the function to transient noise and indeed, such tools have been very effective in consumer marketing and credit card fraud detection.** Apparently, the patterns of consumers and thefts are quite consistent over time, allowing the patterns of algorithms to work even with a large number of parameters. **However, from my experience, these safeguards work far less well in financial markets prediction, and overfitting to the noise in historical data remains a rampant problem.**
*   **This is not to say that no methods based on AI will work in prediction. The ones that work for me are usually characterized by these properties:** They are based on a sound econometric or rational basis, and not on random discovery of patterns. They have few parameters that need to be fitted to past data. They involve linear regression only, and not fitting to some esoteric non-linear functions. They are conceptually simple. All optimizations must occur in a lookback moving window, involving no future unseen data. And the effect of this optimization must be continuously demonstrated using this future, unseen data.
*   Since this book is about starting a quantitative trading business from scratch, and not about starting a hedge fund that manages multiple millions of dollars, for example, strategies that have very low capacities because they trade too often, strategies that trade very few stocks every day, or strategies that have very infrequent positions (such as some seasonal trades in commodity futures described in Chapter 7). **Those niches are the ones that are likely still to be profitable because they have not yet been completely arbitraged away by the gigantic hedge funds.**
# Chapter 3: Backtesting

*   **Finding and Using Historical Databases**: Strategies require specific types of historical data. While many free or low-cost historical databases are available, data vendors often cater more to large institutions than individuals.
*   **Data Adjustments**: It is important to use historical data that has been adjusted for **splits and dividends**. Yahoo! Finance data, for example, is adjusted.
*   **Survivorship Bias**: A significant issue in backtesting is **survivorship bias**, which occurs when historical databases only include stocks that have survived, omitting those that failed. This bias can artificially inflate backtest performance. Using survivorship bias-free data is crucial but can be expensive.
*   **High and Low Data Reliability**: The high and low prices of the day are often less reliable for backtesting than open and close prices due to potential data noise or discrepancies. Backtests relying heavily on high and low data might show inflated returns.
*   **Performance Measurement**: Evaluating a strategy's performance involves checking if it **outperforms a benchmark**, has a **high enough Sharpe ratio**, and a **small enough drawdown**. The Sharpe ratio is a key metric for assessing risk-adjusted return.
*   **Common Backtesting Pitfalls**: Two major pitfalls to avoid are **Look-Ahead Bias** and **Data-Snooping Bias**. **Data-Snooping Bias** is the risk of over-optimizing a strategy on historical data such that its backtest performance is not representative of future performance. Reducing the number of parameters in a model can help mitigate this. **Look-Ahead Bias** involves using information in the backtest that would not have been available at the time of the trade.
*   **Transaction Costs**: Realistic backtesting must account for **transaction costs**, including commissions and the market impact of trades. Ignoring these costs can make an otherwise promising strategy unprofitable. The impact of transaction costs increases with trading frequency.
*   **Strategy Refinement**: After backtesting, strategies can be refined. Unsuitable strategies can be filtered out based on their backtest results, considering performance metrics and potential biases.

In essence, Chapter 3 emphasizes the importance of rigorous backtesting with high-quality, unbiased historical data, using appropriate platforms, and being aware of common pitfalls like data-snooping and neglecting transaction costs, to ensure that the backtest results are a realistic representation of potential live trading performance.

Based on the sources provided and our conversation history, here is a summary of Chapter 4 and Chapter 5:

# CHAPTER 4: Setting Up Your Business
This chapter focuses on the business side of setting up a quantitative trading venture, taking a break from the technical aspects. The goal is to remain an independent trader and not work for a money management institution. A key decision is the choice of business structure: whether to open a retail brokerage account or join a proprietary trading firm. Factors to consider when choosing a brokerage or firm include legal requirements, initial capital requirements, available leverage, liability to losses, commissions and fees, bankruptcy risk of the brokerage, training and mentoring, disclosure of trade secrets, restrictions on trading style, and risk management. Table 4.1 provides a comparison between retail trading and proprietary trading across these issues. The reputation and financial strength of a proprietary trading firm are also important considerations. The chapter also addresses the physical infrastructure needed to execute your quantitative strategy. This involves setting up an operating environment, including potentially using remote PC applications or colocation services for ultra-high-frequency trading.

# CHAPTER 5: Execution Systems
This chapter discusses execution systems, following the development and backtesting of a trading strategy. It covers what an automated trading system (ATS) can do for you, building semi-automated and fully automated trading systems, and minimizing transaction costs. An automated trading system is a piece of software that automatically generates and transmits orders to your brokerage account based on your trading strategy. These systems can retrieve up-to-date market data, run a trading algorithm, generate orders, and submit them. Sometimes, the entire process is automated and runs on your computer, while other times, only part of the process is automated. The chapter is about building such a system to execute your trading strategy and finding ways to minimize trading costs and the divergence from your expected performance based on your backtests.

Okay, drawing on the sources provided and our conversation history, here is a summary of Chapter 6:

# CHAPTER 6: Money and Risk Management

This chapter shifts focus to the critical aspects of managing money and risk within a quantitative trading business. The sources state that all trading strategies experience occasional losses, known as drawdowns. A core goal of quantitative trading is to profit while managing these risks in a way that keeps drawdowns at a tolerable level. It's essential to be positioned to use **optimal leverage** to achieve the maximum possible growth of your wealth. The chapter aims to show how to optimally allocate capital among different strategies to **maximize overall risk-adjusted return**. The central tool for striking the right balance between risk management and maximum growth is the **Kelly formula**.

The main subchapters discussed are:

*   **Optimal Capital Allocation and Leverage:** This section discusses how to allocate capital across multiple strategies and determine the optimal leverage (the ratio of portfolio size to your equity) to use. The objective is to achieve maximum possible growth while limiting drawdowns to a tolerable level. The **Kelly formula** is presented as the key tool for calculating optimal capital allocation and leverage. It's suggested that for a Gaussian return distribution, the Kelly formula can be easily derived. The optimal allocation of capital among different strategies is based on the covariance of their returns. This involves maximizing the long-term growth rate, which depends on the optimal leverage. However, deviating from the prescriptions of rational decision making, such as overconfidence or fear, can lead to suboptimal results.
*   **Risk Management:** Risk management involves keeping losses, or drawdowns, to a tolerable level. Beyond market risk (the risk inherent in the market itself) and specific risk (risk specific to a particular asset), other forms of risk considered include **model risk, software risk, and natural disaster risk**. Model risk relates to trading losses due to the statistical vagaries of the market or flaws in the model. Software risk refers to the potential for trades generated by automated systems not accurately reflecting the backtested model due to bugs. Natural disaster risk encompasses significant, unexpected events like earthquakes or tsunamis that disrupt operations. **Stop-loss orders** are mentioned as a common practice in risk management to limit losses.
*   **Psychological Preparedness:** This section emphasizes the importance of psychological preparedness in quantitative trading, despite the automated nature of the systems. While computer algorithms aim to remove emotion from trading, human psychology still plays a significant role. It's crucial to be psychologically prepared for the inevitable drawdowns and to **avoid manually interfering** with the automated trading system due to emotional reactions to profits and losses. The chapter discusses common behavioral biases, such as the **endowment effect, status quo bias, and loss aversion**, which can lead traders to hold losing positions for too long or take profits too early. Learning to manage the daily swings in profit and loss and controlling psychological urges are highlighted as essential skills.

In essence, Chapter 6 guides the reader on how to handle the financial and psychological risks inherent in running a quantitative trading business, advocating for a disciplined approach based on optimal capital allocation and robust risk management practices, while also acknowledging the crucial role of mental fortitude in sticking to the system.
